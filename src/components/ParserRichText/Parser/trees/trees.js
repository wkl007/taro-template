"use strict";var triggerError=function(r,t,e,o,a){r.triggerEvent("error",{source:t,target:e,errMsg:o,errCode:a},{bubbles:!0,composed:!0})},loadSource=function(r,t){!r.data.controls[t.id]&&t.source.length>1?r.data.controls[t.id]={play:!1,index:1}:r.data.controls[t.id]&&t.source.length>r.data.controls[t.id].index+1&&r.data.controls[t.id].index++,r.setData({controls:r.data.controls})};Component({data:{imgLoad:!1},detached:function(){this._observer&&this._observer.disconnect()},properties:{nodes:{type:Array,value:[]},lazyLoad:{type:Boolean,value:!1},controls:{type:Object,value:{}}},methods:{playEvent:function(r){this.triggerEvent("play",r.currentTarget.dataset.id,{bubbles:!0,composed:!0})},previewEvent:function(r){r.target.dataset.hasOwnProperty("ignore")||this.triggerEvent("preview",{src:r.currentTarget.dataset.src},{bubbles:!0,composed:!0})},tapEvent:function(r){this.triggerEvent("linkpress",{href:r.currentTarget.dataset.href},{bubbles:!0,composed:!0})},adError:function(r){triggerError(this,"ad",r.currentTarget,r.detail.errMsg,r.detail.errCode)},videoError:function(r){loadSource(this,r.currentTarget.dataset),triggerError(this,"video",r.currentTarget,r.detail.errMsg)},audioError:function(r){loadSource(this,r.currentTarget.dataset),triggerError(this,"audio",r.currentTarget,r.detail.errMsg)},_loadVideo:function(r){this.data.controls[r.currentTarget.dataset.id]={play:!0,index:0},this.setData({controls:this.data.controls})}}});